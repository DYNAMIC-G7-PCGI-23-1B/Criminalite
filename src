import numpy as np

proba_crime=0.3
proba_controle=0.5
compteur=10
class Individu:
    
    def __init__(self, proba_crime, proba_controle):
        self.proba_crime = proba_crime
        self.proba_controle = proba_controle
    
    def act(self):
        self.affiche=0
    #case = Individu()
    #case.proba_crime=0.3
    #case.proba_controle=0.5
    #case.affiche=0

#tire une valeur aleatoire (affectée à a) au début du tour (entre [0 et 1[)
        a=np.random.random()
    #si la valeur est =<probabilité de crime alors afficher 1
        if a<=self.proba_crime:
            self.affiche=1
#si l'individu a commis un crime faire un tirage aléatoire du parametre "contole policier" 
        if self.affiche==1:
            b=np.random.random()
#si individu controlé alors afficher 2 
            if b<=self.proba_controle:
                self.affiche=2

#si l'individu affiche 1 alors augmenter la valeur de probabilité de crime de 0,1
        if self.affiche==1:
            self.proba_crime=self.proba_crime+0.1
#si un individu affiche 2 alors diminue la probabilité de crime de 0,1
        if self.affiche==2:
            self.proba_crime=self.proba_crime-0.1
        if self.proba_crime<=0:
            self.proba_crime=0
        if self.proba_crime>=1:
            self.proba_crime=1
        print ("affiche=",self.affiche)
        print ("proba_crime=",self.proba_crime)
        return self

machin=Individu(0.5, 0.6)
while compteur>0:

    machin.act()
    print(machin.affiche)
    print(machin.proba_crime)
    compteur=compteur-1
#pour chaque individu en proximité affichant 1 alors augmenter la valeur de probabilité de crime de 0,05
#pour chaque individu en proximité affichant 2 alors diminuer la valeur de probabilité de crime de 0,05
#voisinage
#Utilisation du voisinage de Moore
NbL = 10 # hauteur du tableau
NbC = 10 # largeur du tableau
a = 5   # taille d'une cellule
cell = np.zeros((NbL,NbC),dtype=int)
etat = np.zeros((NbL,NbC),dtype=int)
crime = {"NO CRIME":0,"CRIME et CONTRÔLÉ":1}
def voisinageMoore(i,j):
   nb_voisins = 0
   if etat[(i-1)%NbL][(j+1)%NbC] == crime["CRIME ET CONTRÔLÉ"]:
     nb_voisins += 1
   if etat[i][(j+1)%NbC] == crime["CRIME ET CONTRÔLÉ"]:
     nb_voisins += 1
   if etat[(i+1)%NbL][(j+1)%NbC] == crime["CRIME ET CONTRÔLÉ"]:
     nb_voisins += 1
   if etat[(i-1)%NbL][j] == crime["CRIME ET CONTRÔLÉ"]:
     nb_voisins += 1
   if etat[(i+1)%NbL][j] == crime["CRIME ET CONTRÔLÉ"]:
     nb_voisins += 1
   if etat[(i-1)%NbL][(j-1)%NbC] == crime["CRIME ET CONTRÔLÉ"]:
     nb_voisins += 1
   if etat[i][(j-1)%NbC] == crime["CRIME ET CONTRÔLÉ"]:
     nb_voisins += 1
   if etat[(i+1)%NbL][(j-1)%NbC] == crime["CRIME ET CONTRÔLÉ"]:
     nb_voisins += 1
   return nb_voisins
   
   #Création de la grille
